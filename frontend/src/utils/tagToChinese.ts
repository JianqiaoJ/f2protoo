/**
 * 音乐标签英文 -> 中文名词映射，用于偏好 treemap 等展示
 * 未收录的标签原样显示英文
 */
const TAG_ZH: Record<string, string> = {
  // 风格 genres
  folk: '民谣',
  classical: '古典',
  popfolk: '流行民谣',
  soundtrack: '原声',
  country: '乡村',
  world: '世界音乐',
  pop: '流行',
  rock: '摇滚',
  metal: '金属',
  punk: '朋克',
  jazz: '爵士',
  electronic: '电子',
  edm: '电子舞曲',
  ambient: '氛围',
  chillout: '弛放',
  downtempo: '缓拍',
  easylistening: '轻音乐',
  lounge: '沙发音乐',
  gospel: '福音',
  disco: '迪斯科',
  funk: '放克',
  rnb: '节奏布鲁斯',
  triphop: '神游舞曲',
  techno: '科技舞曲',
  newage: '新世纪',
  breakbeat: '碎拍',
  acid: '酸性',
  hiphop: '嘻哈',
  reggae: '雷鬼',
  blues: '布鲁斯',
  soul: '灵魂乐',
  latin: '拉丁',
  bossanova: '巴萨诺瓦',
  samba: '桑巴',
  flamenco: '弗拉明戈',
  celtic: '凯尔特',
  opera: '歌剧',
  chamber: '室内乐',
  symphony: '交响乐',
  minimal: '极简',
  indie: '独立',
  alternative: '另类',
  progressive: '前卫',
  postrock: '后摇滚',
  shoegaze: '自赏',
  // 风格 genres（TSV/冷启动完整覆盖）
  '60s': '六十年代',
  '70s': '七十年代',
  '80s': '八十年代',
  '90s': '九十年代',
  '8bit': '八位机',
  abstracthiphop: '抽象嘻哈',
  acidhouse: '酸性浩室',
  acidjazz: '酸性爵士',
  acidrock: '酸性摇滚',
  acousticrock: '原声摇滚',
  african: '非洲',
  alternativerock: '另类摇滚',
  ambiant: '氛围',
  ambiente: '氛围乐',
  ambientmusic: '氛围音乐',
  americana: '美式根源',
  artrock: '艺术摇滚',
  asian: '亚洲',
  atmospheric: '氛围感',
  avantgarde: '前卫',
  baroque: '巴洛克',
  bebop: '比波普',
  blackmetal: '黑金属',
  bluesrock: '布鲁斯摇滚',
  breakcore: '碎核',
  britpop: '英伦流行',
  cabaret: '卡巴莱',
  chanson: '香颂',
  chansonatexte: '法语叙事歌',
  chansonfrancaise: '法式香颂',
  chilloutlounge: '弛放沙发',
  chiptune: '芯片音乐',
  choir: '合唱',
  choral: '合唱',
  christian: '基督教',
  christianrap: '基督教说唱',
  classicalmusic: '古典音乐',
  classicrock: '经典摇滚',
  club: '俱乐部',
  computermusic: '电脑音乐',
  computer: '电脑',
  contemporary: '当代',
  countryrock: '乡村摇滚',
  dance: '舞曲',
  dancehall: '舞厅',
  dancehouse: '浩室舞曲',
  dancemusic: '舞曲',
  dancepop: '流行舞曲',
  darkambient: '黑暗氛围',
  darkelectro: '黑暗电子',
  darkwave: '暗潮',
  death: '死亡',
  deathmetal: '死亡金属',
  deephouse: '深浩室',
  deutschrock: '德式摇滚',
  doom: '厄运',
  downbeat: '缓拍',
  dreampop: '梦泡',
  drone: '嗡鸣',
  drumnbass: '鼓打贝斯',
  dub: '雷鬼混音',
  dubelectro: '电子雷鬼',
  dubstep: '回响贝斯',
  ebm: '电子身体音乐',
  electroambient: '电子氛围',
  electrodance: '电音舞曲',
  electrohouse: '电音浩室',
  electrojazz: '电子爵士',
  electronical: '电子',
  electronicambient: '电子氛围',
  electronicmusic: '电子音乐',
  electronik: '电子',
  electronika: '电子',
  electropop: '电子流行',
  electropunk: '电子朋克',
  electrorock: '电子摇滚',
  elektro: '电子',
  eletronica: '电子',
  emo: '情绪核',
  emocore: '情绪核',
  ethnicrock: '民族摇滚',
  ethno: '民族',
  eurodance: '欧陆舞曲',
  experimental: '实验',
  experimentalrock: '实验摇滚',
  folkpop: '民谣流行',
  freejazz: '自由爵士',
  fusion: '融合',
  gangsta: '匪帮',
  gangstarap: '匪帮说唱',
  garage: '车库',
  gipsy: '吉普赛',
  glam: '华丽',
  glitch: '故障',
  goth: '哥特',
  gothic: '哥特',
  grindcore: '碾核',
  groove: '律动',
  grunge: '垃圾摇滚',
  guitarras: '吉他',
  guitarrock: '吉他摇滚',
  hard: '硬',
  hardcore: '硬核',
  hardrock: '硬摇滚',
  hardstyle: '硬派',
  hardtek: '硬科技',
  hardtrance: '硬 trance',
  heavymetal: '重金属',
  house: '浩室',
  idm: '智能舞曲',
  improvisation: '即兴',
  indiepop: '独立流行',
  indierock: '独立摇滚',
  indietronica: '独立电子',
  industrial: '工业',
  instrumentalpop: '器乐流行',
  instrumentalrock: '器乐摇滚',
  island: '岛屿',
  jazzfunk: '爵士放克',
  jazzfusion: '爵士融合',
  jazzrock: '爵士摇滚',
  jrock: '日式摇滚',
  jungle: '丛林',
  krautrock: '德国摇滚',
  latino: '拉丁',
  lofi: '低保真',
  loungemusic: '沙发音乐',
  manouche: '吉普赛爵士',
  march: '进行曲',
  medieval: '中世纪',
  metalcore: '金属核',
  middleeastern: '中东',
  minimalism: '极简主义',
  minimaltechno: '极简科技',
  neoclassical: '新古典',
  newwave: '新浪潮',
  noise: '噪音',
  orchestral: '管弦乐',
  oriental: '东方',
  popfunk: '流行放克',
  poppunk: '流行朋克',
  poprock: '流行摇滚',
  postpunk: '后朋克',
  powermetal: '力量金属',
  powerpop: '强力流行',
  prog: '前卫',
  progressivehouse: '前卫浩室',
  progressiverock: '前卫摇滚',
  psychedelic: '迷幻',
  psytrance: '迷幻 trance',
  punkrock: '朋克摇滚',
  ragga: '雷鬼',
  ragtime: '拉格泰姆',
  rap: '说唱',
  rave: '锐舞',
  reggaeton: '雷鬼顿',
  rhythmandblues: '节奏布鲁斯',
  rockandroll: '摇滚',
  rockfrancais: '法式摇滚',
  rocknroll: '摇滚',
  rocksteady: '洛克斯代迪',
  salsa: '萨尔萨',
  score: '配乐',
  ska: '斯卡',
  smoothjazz: '柔顺爵士',
  souljazz: '灵魂爵士',
  soundscapes: '声景',
  soundtracks: '原声带',
  space: '太空',
  spiritual: '灵性',
  swing: '摇摆',
  symphonic: '交响',
  synth: '合成器',
  synthpop: '合成器流行',
  tango: '探戈',
  techhouse: '科技浩室',
  technoindustrial: '工业科技',
  tecno: '科技舞曲',
  trance: '出神',
  tribal: '部落',
  trip: '旅行',
  tv: '电视',
  // 乐器 instruments
  accordion: '手风琴',
  accordeon: '手风琴',
  acousticbassguitar: '原声贝斯吉他',
  acousticguitar: '原声吉他',
  alboka: '阿尔博卡',
  alphorn: '阿尔卑斯号',
  bagpipes: '风笛',
  bajo: '低音',
  balafon: '巴拉丰',
  balalaika: '巴拉莱卡',
  bandura: '班杜拉',
  bassguitar: '贝斯吉他',
  basso: '低音',
  bassoon: '巴松',
  bateria: '鼓组',
  batteria: '鼓组',
  batterie: '鼓组',
  beat: '节拍',
  beats: '节拍',
  bell: '铃',
  bells: '铃',
  berimbau: '贝林博',
  bodhran: '宝思兰鼓',
  bombarde: '双簧管',
  bongo: '邦戈鼓',
  bongos: '邦戈鼓',
  cabasa: '卡巴萨',
  cajon: '箱鼓',
  carillon: '钟琴',
  castanets: '响板',
  celesta: '钢片琴',
  clarinet: '单簧管',
  cymbal: '钹',
  doublebass: '低音提琴',
  drums: '鼓',
  electricguitar: '电吉他',
  electricpiano: '电钢琴',
  guitare: '吉他',
  oud: '乌德琴',
  panflute: '排箫',
  pianosolo: '钢琴独奏',
  pipeorgan: '管风琴',
  rhodes: '罗兹电钢琴',
  sampler: '采样器',
  ukulele: '尤克里里',
  viola: '中提琴',
  // 乐器（已有部分在上面，此处不重复）
  banjo: '班卓琴',
  classicalguitar: '古典吉他',
  orchestra: '管弦乐队',
  pad: '合成垫',
  acoustic: '原声吉他',
  drum: '鼓',
  electric: '电吉他',
  bandoneon: '班多钮',
  piano: '钢琴',
  guitar: '吉他',
  bass: '贝斯',
  violin: '小提琴',
  cello: '大提琴',
  voice: '人声',
  vocal: '人声',
  synthesizer: '合成器',
  organ: '管风琴',
  trumpet: '小号',
  saxophone: '萨克斯',
  flute: '长笛',
  harp: '竖琴',
  harmonica: '口琴',
  percussion: '打击乐',
  strings: '弦乐',
  brass: '铜管',
  // 情绪/主题 moods & themes
  abstract: '抽象',
  action: '动作',
  adult: '成人',
  adventure: '冒险',
  advertising: '广告',
  africa: '非洲',
  aggressive: '激进',
  ambiental: '环境',
  angry: '愤怒',
  animation: '动画',
  anxious: '焦虑',
  arabic: '阿拉伯',
  argentina: '阿根廷',
  awake: '清醒',
  ballad: '叙事曲',
  battle: '战斗',
  beach: '海滩',
  beautiful: '优美',
  berlin: '柏林',
  bouncy: '弹跳',
  brazil: '巴西',
  business: '商业',
  busy: '忙碌',
  catchy: '上口',
  celebration: '庆典',
  chaos: '混沌',
  cheerful: '欢快',
  child: '儿童',
  children: '儿童',
  chilled: '清凉',
  christmas: '圣诞',
  cinema: '影院',
  clubbing: '夜店',
  cold: '冷',
  colombia: '哥伦比亚',
  comedy: '喜剧',
  commercial: '商业',
  corporate: '企业',
  dream: '梦境',
  dynamic: '动感',
  energy: '能量',
  holiday: '假日',
  hypnotic: '催眠',
  indian: '印度',
  life: '生活',
  love: '爱',
  mexico: '墨西哥',
  meditative: '冥想',
  melodic: '旋律',
  poesia: '诗意',
  quiet: '安静',
  relaxation: '放松',
  retro: '复古',
  sexy: '性感',
  silence: '寂静',
  singersongwriter: '唱作人',
  tropical: '热带',
  harmonic: '和声',
  background: '背景',
  relaxing: '放松',
  energetic: '活力',
  calm: '平静',
  happy: '快乐',
  sad: '忧伤',
  romantic: '浪漫',
  nostalgic: '怀旧',
  nature: '自然',
  travel: '旅行',
  film: '电影',
  meditation: '冥想',
  focus: '专注',
  party: '派对',
  workout: '运动',
  sleep: '睡眠',
  epic: '史诗',
  dark: '黑暗',
  darkness: '黑暗',
  bright: '明亮',
  melancholic: '忧郁',
  uplifting: '振奋',
  peaceful: '平和',
  dramatic: '戏剧',
  mysterious: '神秘',
  dreamy: '梦幻',
  // 情绪/主题 补充（与报告及冷启动 UI 一致）
  strong: '强烈',
  success: '成功',
  surf: '冲浪',
  suspense: '悬疑',
  sweet: '甜美',
  tech: '科技',
  technology: '科技',
  tension: '紧张',
  thankful: '感恩',
  thoughtful: '沉思',
  thriller: '惊悚',
  traditional: '传统',
  trailermusic: '预告片音乐',
  tribe: '部落',
  trippy: '迷幻感',
  urban: '都市',
  video: '视频',
  videogame: '电子游戏',
  vintage: '复古',
  violence: '暴力',
  war: '战争',
  warm: '温暖',
  water: '水域',
  wedding: '婚礼',
  weird: '怪异',
  western: '西部',
  winter: '冬日',
  xmas: '圣诞',
  yoga: '瑜伽',
  youtube: '油管',
  zen: '禅',
};

export function tagToChinese(tag: string): string {
  if (!tag || typeof tag !== 'string') return tag;
  const key = tag.trim().toLowerCase();
  return TAG_ZH[key] ?? tag;
}

/** 冷启动等展示用：英文 tag + 中文翻译，如 "edm 电子舞曲"；无翻译则只显示英文 */
export function tagWithChinese(tag: string): string {
  if (!tag || typeof tag !== 'string') return tag;
  const zh = tagToChinese(tag);
  return zh !== tag ? `${tag} ${zh}` : tag;
}
