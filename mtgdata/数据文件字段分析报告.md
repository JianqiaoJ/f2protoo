# Data文件夹数据文件字段分析报告

## 概述

本报告对`data`文件夹内的所有数据文件进行了详细的字段分析，包括：
- 字段结构分析
- 是否包含歌曲名字和歌手名字
- 发行年份区间分析
- Distinct Tags统计

---

## 一、主要TSV文件分析

### 1. raw.tsv
- **字段列表**: `TRACK_ID`, `ARTIST_ID`, `ALBUM_ID`, `PATH`, `DURATION`, `TAGS`
- **字段数量**: 6
- **总记录数**: 5,133
- **是否包含歌曲名字**: ❌ 否
- **是否包含歌手名字**: ❌ 否
- **是否包含年份字段**: ❌ 否
- **Distinct Tags数量**: 127
- **Tag类别统计**:
  - `genre`: 4,959条
  - `mood/theme`: 110条
  - `instrument`: 64条

### 2. raw_30s.tsv
- **字段列表**: `TRACK_ID`, `ARTIST_ID`, `ALBUM_ID`, `PATH`, `DURATION`, `TAGS`
- **字段数量**: 6
- **总记录数**: 5,094
- **是否包含歌曲名字**: ❌ 否
- **是否包含歌手名字**: ❌ 否
- **是否包含年份字段**: ❌ 否
- **Distinct Tags数量**: 127
- **Tag类别统计**:
  - `genre`: 4,922条
  - `mood/theme`: 108条
  - `instrument`: 64条

### 3. raw_30s_cleantags.tsv
- **字段列表**: `TRACK_ID`, `ARTIST_ID`, `ALBUM_ID`, `PATH`, `DURATION`, `TAGS`
- **字段数量**: 6
- **总记录数**: 5,107
- **是否包含歌曲名字**: ❌ 否
- **是否包含歌手名字**: ❌ 否
- **是否包含年份字段**: ❌ 否
- **Distinct Tags数量**: 124
- **Tag类别统计**:
  - `genre`: 4,931条
  - `mood/theme`: 111条
  - `instrument`: 65条

### 4. raw_30s_cleantags_50artists.tsv
- **字段列表**: `TRACK_ID`, `ARTIST_ID`, `ALBUM_ID`, `PATH`, `DURATION`, `TAGS`
- **字段数量**: 6
- **总记录数**: 6,209
- **是否包含歌曲名字**: ❌ 否
- **是否包含歌手名字**: ❌ 否
- **是否包含年份字段**: ❌ 否
- **Distinct Tags数量**: 108
- **Tag类别统计**:
  - `genre`: 5,989条
  - `mood/theme`: 123条
  - `instrument`: 97条

### 5. autotagging.tsv
- **字段列表**: `TRACK_ID`, `ARTIST_ID`, `ALBUM_ID`, `PATH`, `DURATION`, `TAGS`
- **字段数量**: 6
- **总记录数**: 6,209
- **是否包含歌曲名字**: ❌ 否
- **是否包含歌手名字**: ❌ 否
- **是否包含年份字段**: ❌ 否
- **Distinct Tags数量**: 108
- **Tag类别统计**:
  - `genre`: 5,989条
  - `mood/theme`: 123条
  - `instrument`: 97条

### 6. autotagging_genre.tsv
- **字段列表**: `TRACK_ID`, `ARTIST_ID`, `ALBUM_ID`, `PATH`, `DURATION`, `TAGS`
- **字段数量**: 6
- **总记录数**: 11,721
- **是否包含歌曲名字**: ❌ 否
- **是否包含歌手名字**: ❌ 否
- **是否包含年份字段**: ❌ 否
- **Distinct Tags数量**: 90
- **Tag类别统计**:
  - `genre`: 11,721条（全部为genre标签）

### 7. autotagging_instrument.tsv
- **字段列表**: `TRACK_ID`, `ARTIST_ID`, `ALBUM_ID`, `PATH`, `DURATION`, `TAGS`
- **字段数量**: 6
- **总记录数**: 10,839
- **是否包含歌曲名字**: ❌ 否
- **是否包含歌手名字**: ❌ 否
- **是否包含年份字段**: ❌ 否
- **Distinct Tags数量**: 41
- **Tag类别统计**:
  - `instrument`: 10,839条（全部为instrument标签）

### 8. autotagging_moodtheme.tsv
- **字段列表**: `TRACK_ID`, `ARTIST_ID`, `ALBUM_ID`, `PATH`, `DURATION`, `TAGS`
- **字段数量**: 6
- **总记录数**: 9,947
- **是否包含歌曲名字**: ❌ 否
- **是否包含歌手名字**: ❌ 否
- **是否包含年份字段**: ❌ 否
- **Distinct Tags数量**: 59
- **Tag类别统计**:
  - `mood/theme`: 9,947条（全部为mood/theme标签）

### 9. autotagging_top50tags.tsv
- **字段列表**: `TRACK_ID`, `ARTIST_ID`, `ALBUM_ID`, `PATH`, `DURATION`, `TAGS`
- **字段数量**: 6
- **总记录数**: 11,052
- **是否包含歌曲名字**: ❌ 否
- **是否包含歌手名字**: ❌ 否
- **是否包含年份字段**: ❌ 否
- **Distinct Tags数量**: 50
- **Tag类别统计**:
  - `genre`: 10,535条
  - `instrument`: 434条
  - `mood/theme`: 83条

---

## 二、字段结构总结

### 所有TSV文件的统一字段结构

所有TSV文件都采用相同的字段结构：

| 字段名 | 类型 | 说明 |
|--------|------|------|
| `TRACK_ID` | 字符串 | 歌曲唯一标识符（如：track_0000214） |
| `ARTIST_ID` | 字符串 | 艺术家唯一标识符（如：artist_000014） |
| `ALBUM_ID` | 字符串 | 专辑唯一标识符（如：album_000031） |
| `PATH` | 字符串 | 音频文件路径（如：14/214.mp3） |
| `DURATION` | 浮点数 | 歌曲时长（秒） |
| `TAGS` | 字符串 | 标签信息，格式为`类别---标签名`（如：genre---punkrock） |

### 关键发现

1. **❌ 不包含歌曲名字**: 所有文件都没有`TRACK_NAME`、`TITLE`或类似的歌曲名称字段
2. **❌ 不包含歌手名字**: 所有文件都没有`ARTIST_NAME`或类似的歌手名称字段，只有`ARTIST_ID`
3. **❌ 不包含年份字段**: 所有文件都没有`YEAR`、`DATE`或类似的发行年份字段
4. **✅ 包含标签信息**: 所有文件都包含`TAGS`字段，用于音乐分类和推荐

---

## 三、发行年份区间分析

**结论**: 所有数据文件都**不包含年份或日期字段**，因此无法分析歌曲的发行区间。

如果需要获取歌曲的发行年份信息，可能需要：
- 通过`TRACK_ID`、`ARTIST_ID`或`ALBUM_ID`关联其他数据源
- 从音频文件的元数据中提取
- 使用外部API（如MusicBrainz、Last.fm等）查询

---

## 四、Distinct Tags分析

### Tags格式说明

Tags采用统一格式：`类别---标签名`

- **类别**: 主要有三种
  - `genre`: 音乐风格/流派
  - `mood/theme`: 情绪/主题
  - `instrument`: 乐器

### raw.tsv 各 distinct tag 对应歌曲数量

以下为 raw.tsv 中每个 distinct tag 所拥有的歌曲数量（统计方式：每首歌曲的 TAGS 列按 tab 拆分，每个 tag 在该歌曲出现即计 1，同一歌曲内同一 tag 只计 1 次；多首歌曲累加）。

**genre**（按 tag 字母序）  
- `genre---60s` 179首
- `genre---70s` 190首
- `genre---80s` 312首
- `genre---8bit` 158首
- `genre---90s` 307首
- `genre---abstracthiphop` 7首
- `genre---acid` 115首
- `genre---acidhouse` 72首
- `genre---acidjazz` 275首
- `genre---acidrock` 24首
- `genre---acousticrock` 18首
- `genre---african` 112首
- `genre---alternative` 3678首
- `genre---alternativerock` 132首
- `genre---ambiant` 117首
- `genre---ambient` 7073首
- `genre---ambiente` 32首
- `genre---ambientmusic` 8首
- `genre---americana` 79首
- `genre---artrock` 36首
- `genre---asian` 92首
- `genre---atmospheric` 633首
- `genre---avantgarde` 73首
- `genre---baroque` 144首
- `genre---bebop` 24首
- `genre---blackmetal` 21首
- `genre---blues` 880首
- `genre---bluesrock` 48首
- `genre---bossanova` 126首
- `genre---breakbeat` 334首
- `genre---breakcore` 11首
- `genre---britpop` 13首
- `genre---cabaret` 36首
- `genre---celtic` 272首
- `genre---chanson` 240首
- `genre---chansonatexte` 9首
- `genre---chansonfrancaise` 73首
- `genre---chillout` 2420首
- `genre---chilloutlounge` 16首
- `genre---chiptune` 37首
- `genre---choir` 131首
- `genre---choral` 43首
- `genre---christian` 50首
- `genre---christianrap` 4首
- `genre---classical` 4504首
- `genre---classicalmusic` 2首
- `genre---classicrock` 128首
- `genre---club` 500首
- `genre---computermusic` 10首
- `genre---contemporary` 17首
- `genre---country` 440首
- `genre---countryrock` 4首
- `genre---dance` 2216首
- `genre---dancehall` 383首
- `genre---dancehouse` 5首
- `genre---dancemusic` 9首
- `genre---dancepop` 35首
- `genre---darkambient` 267首
- `genre---darkelectro` 15首
- `genre---darkwave` 132首
- `genre---death` 47首
- `genre---deathmetal` 57首
- `genre---deephouse` 136首
- `genre---deutschrock` 1首
- `genre---disco` 152首
- `genre---doom` 4首
- `genre---downbeat` 9首
- `genre---downtempo` 433首
- `genre---dreampop` 11首
- `genre---drone` 3首
- `genre---drumnbass` 305首
- `genre---dub` 255首
- `genre---dubelectro` 17首
- `genre---dubstep` 261首
- `genre---easylistening` 2934首
- `genre---ebm` 73首
- `genre---edm` 60首
- `genre---electroambient` 19首
- `genre---electrodance` 14首
- `genre---electrohouse` 63首
- `genre---electrojazz` 13首
- `genre---electronic` 6999首
- `genre---electronical` 8首
- `genre---electronicambient` 1首
- `genre---electronicmusic` 5首
- `genre---electronik` 15首
- `genre---electronika` 2首
- `genre---electropop` 282首
- `genre---electropunk` 2首
- `genre---electrorock` 36首
- `genre---elektro` 1首
- `genre---eletronica` 46首
- `genre---emo` 15首
- `genre---emocore` 3首
- `genre---ethnicrock` 93首
- `genre---ethno` 179首
- `genre---eurodance` 29首
- `genre---experimental` 612首
- `genre---experimentalrock` 5首
- `genre---flamenco` 75首
- `genre---folk` 1376首
- `genre---folkpop` 19首
- `genre---freejazz` 12首
- `genre---funk` 630首
- `genre---fusion` 193首
- `genre---gangsta` 12首
- `genre---gangstarap` 64首
- `genre---garage` 65首
- `genre---gipsy` 15首
- `genre---glam` 10首
- `genre---glitch` 11首
- `genre---gospel` 27首
- `genre---goth` 1首
- `genre---gothic` 74首
- `genre---grindcore` 3首
- `genre---groove` 38首
- `genre---grunge` 128首
- `genre---guitarras` 20首
- `genre---guitarrock` 23首
- `genre---hard` 111首
- `genre---hardcore` 148首
- `genre---hardrock` 243首
- `genre---hardstyle` 43首
- `genre---hardtek` 3首
- `genre---hardtrance` 15首
- `genre---heavymetal` 147首
- `genre---hiphop` 1265首
- `genre---house` 199首
- `genre---idm` 6首
- `genre---improvisation` 76首
- `genre---indie` 787首
- `genre---indiepop` 19首
- `genre---indierock` 1首
- `genre---indietronica` 1首
- `genre---industrial` 112首
- `genre---instrumentalpop` 473首
- `genre---instrumentalrock` 304首
- `genre---island` 2首
- `genre---jazz` 691首
- `genre---jazzfunk` 23首
- `genre---jazzfusion` 14首
- `genre---jazzrock` 2首
- `genre---jrock` 3首
- `genre---jungle` 3首
- `genre---krautrock` 1首
- `genre---latin` 203首
- `genre---latino` 6首
- `genre---lofi` 21首
- `genre---lounge` 55首
- `genre---loungemusic` 1首
- `genre---manouche` 1首
- `genre---march` 13首
- `genre---medieval` 16首
- `genre---metal` 503首
- `genre---metalcore` 2首
- `genre---middleeastern` 14首
- `genre---minimal` 56首
- `genre---minimalism` 27首
- `genre---minimaltechno` 29首
- `genre---neoclassical` 17首
- `genre---newage` 373首
- `genre---newwave` 50首
- `genre---noise` 2首
- `genre---opera` 3首
- `genre---orchestral` 547首
- `genre---oriental` 22首
- `genre---pop` 2580首
- `genre---popfolk` 151首
- `genre---popfunk` 10首
- `genre---poppunk` 3首
- `genre---poprock` 551首
- `genre---postpunk` 2首
- `genre---postrock` 38首
- `genre---powermetal` 2首
- `genre---powerpop` 53首
- `genre---prog` 5首
- `genre---progressive` 105首
- `genre---progressivehouse` 1首
- `genre---progressiverock` 14首
- `genre---psychedelic` 69首
- `genre---psytrance` 6首
- `genre---punk` 192首
- `genre---punkrock` 10首
- `genre---ragga` 16首
- `genre---ragtime` 3首
- `genre---rap` 66首
- `genre---rave` 3首
- `genre---reggae` 335首
- `genre---reggaeton` 4首
- `genre---rhythmandblues` 5首
- `genre---rnb` 30首
- `genre---rock` 770首
- `genre---rockandroll` 4首
- `genre---rockfrancais` 1首
- `genre---rocknroll` 14首
- `genre---rocksteady` 2首
- `genre---salsa` 2首
- `genre---samba` 8首
- `genre---score` 21首
- `genre---singersongwriter` 29首
- `genre---ska` 19首
- `genre---smoothjazz` 5首
- `genre---soul` 5首
- `genre---souljazz` 2首
- `genre---soundscapes` 2首
- `genre---soundtrack` 805首
- `genre---soundtracks` 3首
- `genre---swing` 1首
- `genre---symphonic` 3首
- `genre---synthpop` 38首
- `genre---tango` 2首
- `genre---techhouse` 4首
- `genre---techno` 79首
- `genre---technoindustrial` 2首
- `genre---tecno` 1首
- `genre---trance` 118首
- `genre---tribal` 2首
- `genre---trip` 1首
- `genre---triphop` 37首
- `genre---world` 109首

**instrument**  
- `instrument---accordion` 8首
- `instrument---acousticbassguitar` 1首
- `instrument---acousticguitar` 9首
- `instrument---bass` 4首
- `instrument---batterie` 1首
- `instrument---bells` 2首
- `instrument---cello` 2首
- `instrument---clarinet` 6首
- `instrument---computer` 6首
- `instrument---cymbal` 1首
- `instrument---doublebass` 1首
- `instrument---drum` 2首
- `instrument---drums` 2首
- `instrument---electricguitar` 3首
- `instrument---electricpiano` 3首
- `instrument---flute` 3首
- `instrument---guitar` 20首
- `instrument---guitare` 2首
- `instrument---orchestra` 2首
- `instrument---oud` 1首
- `instrument---panflute` 1首
- `instrument---piano` 62首
- `instrument---pianosolo` 8首
- `instrument---sampler` 1首
- `instrument---synth` 1首
- `instrument---synthesizer` 2首
- `instrument---ukulele` 2首
- `instrument---viola` 1首
- `instrument---violin` 14首

**mood/theme**  
- `mood/theme---adventure` 8首
- `mood/theme---advertising` 2首
- `mood/theme---beach` 1首
- `mood/theme---business` 1首
- `mood/theme---celebration` 1首
- `mood/theme---child` 1首
- `mood/theme---children` 1首
- `mood/theme---christmas` 23首
- `mood/theme---cinema` 1首
- `mood/theme---comedy` 2首
- `mood/theme---commercial` 1首
- `mood/theme---corporate` 2首
- `mood/theme---dark` 1首
- `mood/theme---darkness` 1首
- `mood/theme---dream` 39首
- `mood/theme---dynamic` 1首
- `mood/theme---energetic` 1首
- `mood/theme---energy` 2首
- `mood/theme---film` 14首
- `mood/theme---happy` 2首
- `mood/theme---holiday` 1首
- `mood/theme---hypnotic` 1首
- `mood/theme---indian` 1首
- `mood/theme---life` 1首
- `mood/theme---love` 17首
- `mood/theme---meditative` 15首
- `mood/theme---melodic` 1首
- `mood/theme---poesia` 1首
- `mood/theme---quiet` 1首
- `mood/theme---relaxation` 4首
- `mood/theme---retro` 2首
- `mood/theme---sexy` 1首
- `mood/theme---silence` 1首
- `mood/theme---space` 1首
- `mood/theme---spiritual` 1首
- `mood/theme---tv` 1首

**说明**：raw.tsv 中按上述方式统计共 **285** 个 distinct tag（与「Distinct Tags数量: 127」可能因是否做 tag 归一化/合并而不同）。

---

### 各文件的Distinct Tags统计

| 文件名 | Distinct Tags数量 | 主要Tag类别 |
|--------|------------------|------------|
| `raw.tsv` | 127 | genre (4,959), mood/theme (110), instrument (64) |
| `raw_30s.tsv` | 127 | genre (4,922), mood/theme (108), instrument (64) |
| `raw_30s_cleantags.tsv` | 124 | genre (4,931), mood/theme (111), instrument (65) |
| `raw_30s_cleantags_50artists.tsv` | 108 | genre (5,989), mood/theme (123), instrument (97) |
| `autotagging.tsv` | 108 | genre (5,989), mood/theme (123), instrument (97) |
| `autotagging_genre.tsv` | 90 | genre (11,721) |
| `autotagging_instrument.tsv` | 41 | instrument (10,839) |
| `autotagging_moodtheme.tsv` | 59 | mood/theme (9,947) |
| `autotagging_top50tags.tsv` | 50 | genre (10,535), instrument (434), mood/theme (83) |

### 常见Tags示例

根据分析，最常见的标签包括：

**Genre类别**:
- `genre---electronic` (电子音乐)
- `genre---pop` (流行音乐)
- `genre---rock` (摇滚)
- `genre---classical` (古典音乐)
- `genre---hiphop` (嘻哈)
- `genre---jazz` (爵士)
- `genre---metal` (金属)
- `genre---reggae` (雷鬼)

**Instrument类别**:
- `instrument---piano` (钢琴)
- `instrument---guitar` (吉他)
- `instrument---drums` (鼓)
- `instrument---voice` (人声)
- `instrument---strings` (弦乐)

**Mood/Theme类别**:
- `mood/theme---emotional` (情感)
- `mood/theme---energetic` (充满活力)
- `mood/theme---relaxing` (放松)
- `mood/theme---happy` (快乐)
- `mood/theme---dream` (梦幻)

---

## 五、辅助文件分析

### 1. tag_map.json

Tag映射文件，用于标准化标签名称：

- **genre类别**: 27个映射规则
  - 例如：`"punk"` → `"punkrock"`, `"electronical"` → `"electronic"`
- **mood/theme类别**: 31个映射规则
  - 例如：`"dreamy"` → `"dream"`, `"emotion"` → `"emotional"`
- **instrument类别**: 41个映射规则
  - 例如：`"synth"` → `"synthesizer"`, `"guitars"` → `"guitar"`

### 2. tags文件夹

包含标签列表文件：

- **top50.txt**: 包含50个最常用的标签（genre、instrument、mood/theme混合）
- **moodtheme.txt**: 包含59个mood/theme标签
- **moodtheme_split.txt**: 包含56个mood/theme标签（可能是用于数据分割的版本）

---

## 六、splits文件夹

`splits`文件夹包含5个数据分割（split-0到split-4），每个分割包含15个TSV文件：
- `autotagging-train.tsv` / `autotagging-validation.tsv` / `autotagging-test.tsv`
- `autotagging_genre-train.tsv` / `autotagging_genre-validation.tsv` / `autotagging_genre-test.tsv`
- `autotagging_instrument-train.tsv` / `autotagging_instrument-validation.tsv` / `autotagging_instrument-test.tsv`
- `autotagging_moodtheme-train.tsv` / `autotagging_moodtheme-validation.tsv` / `autotagging_moodtheme-test.tsv`
- `autotagging_top50tags-train.tsv` / `autotagging_top50tags-validation.tsv` / `autotagging_top50tags-test.tsv`

这些文件的字段结构与主文件相同，用于机器学习模型的训练、验证和测试。

---

## 七、download文件夹

`download`文件夹包含音频文件的下载列表和标识符：
- `*_gids.txt`: 文件组ID列表
- `*_sha256_tars.txt`: TAR文件的SHA256哈希值
- `*_sha256_tracks.txt`: 音频文件的SHA256哈希值

这些文件用于下载和管理实际的音频数据。

---

## 八、总结

### 字段完整性评估

| 信息类型 | 是否包含 | 说明 |
|---------|---------|------|
| 歌曲ID | ✅ | 所有文件都包含`TRACK_ID` |
| 歌曲名字 | ❌ | 不包含，需要通过ID关联其他数据源 |
| 歌手ID | ✅ | 所有文件都包含`ARTIST_ID` |
| 歌手名字 | ❌ | 不包含，需要通过ID关联其他数据源 |
| 专辑ID | ✅ | 所有文件都包含`ALBUM_ID` |
| 音频路径 | ✅ | 所有文件都包含`PATH` |
| 时长 | ✅ | 所有文件都包含`DURATION` |
| 标签 | ✅ | 所有文件都包含`TAGS` |
| 发行年份 | ❌ | 不包含，无法分析发行区间 |

### 数据特点

1. **ID化设计**: 使用ID而非名称，便于数据管理和去重
2. **标签丰富**: 包含genre、instrument、mood/theme三类标签，适合音乐推荐系统
3. **数据分割**: 提供了训练/验证/测试集，适合机器学习任务
4. **标签标准化**: 通过`tag_map.json`统一标签命名

### 建议

如果需要获取歌曲名字、歌手名字或发行年份：
1. 通过`TRACK_ID`、`ARTIST_ID`、`ALBUM_ID`关联外部数据源（如FMA metadata）
2. 从音频文件的元数据（ID3 tags）中提取
3. 使用音乐数据库API查询

---

**报告生成时间**: 2024年
**分析工具**: Python + pandas
**数据文件位置**: `/Users/jianqiaoji/Downloads/fffinalproto/data/`
